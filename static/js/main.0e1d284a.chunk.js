(this["webpackJsonpimage-search"]=this["webpackJsonpimage-search"]||[]).push([[0],{105:function(e,a,t){"use strict";t.r(a);var c=t(0),n=t.n(c),r=t(10),s=t.n(r),i=t(17),o=t(157),l=t(141),j=t(145),b=t(146),h=t(147),g=t(148),u=t(63),m=t.n(u),d=t(4);var O=function(e){var a=e.classes;return Object(d.jsx)(l.a,{position:"absolute",children:Object(d.jsx)(j.a,{children:Object(d.jsx)(b.a,{fixed:!0,children:Object(d.jsxs)(h.a,{container:!0,className:a.headerContainer,children:[Object(d.jsx)(h.a,{item:!0,children:Object(d.jsx)(g.a,{variant:"h6",children:"Image Search"})}),Object(d.jsx)(h.a,{item:!0,children:Object(d.jsx)(m.a,{fontSize:"large"})})]})})})})},f=t(65),x=t(150),p=t(151),k=t(149);var v=function(e){var a=e.isSearch,t=e.isBookmark;return Object(d.jsxs)(b.a,{fixed:!0,children:[Object(d.jsx)(k.a,{onClick:function(){a(!0)},"aria-label":"image search",color:"primary",disabled:!t,children:Object(d.jsx)(x.a,{})}),Object(d.jsx)(k.a,{onClick:function(){a(!1)},"aria-label":"bookmarks",color:"primary",disabled:t,children:Object(d.jsx)(p.a,{})})]})},S=t(158),I=t(159),C=t(152),y=t(153),P=t(154),B=t(155),N=t(156);var w=function(e){var a=e.classes,t=e.imageUrl,n=e.title,r=e.id,s=e.bookmarkArea,o=e.hideImage,l=Object(c.useState)(!1),j=Object(i.a)(l,2),b=j[0],u=j[1];return Object(c.useEffect)((function(){for(var e=0;e<localStorage.length;e++){if(localStorage.key(e)===r){u(!0);break}}}),[]),Object(d.jsx)(h.a,{item:!0,xs:4,children:Object(d.jsxs)(C.a,{className:a.card,children:[Object(d.jsx)(y.a,{image:t,title:n,className:a.media}),Object(d.jsx)(P.a,{children:Object(d.jsx)(g.a,{variant:"body1",children:n})}),Object(d.jsx)(B.a,{children:Object(d.jsx)(N.a,{variant:"outlined",color:b?"secondary":"primary",onClick:b?function(){localStorage.removeItem(r),s&&o(r),u(!b)}:function(){localStorage.setItem(r,t),u(!b)},children:b?"Remove it!":"Bookmark it!"})})]})})};var E=function(e){var a=e.classes,t=e.allImages,c=e.bookmarkArea,n=e.hideImage;if(0===t.length)return Object(d.jsx)(g.a,{variant:"h4",children:"No images here. Would you try to search for anything else?"});var r=t.map((function(e){return Object(d.jsx)(w,{classes:a,imageUrl:e.url,title:e.title,id:e.id,bookmarkArea:c,hideImage:n},e.id)}));return Object(d.jsx)(h.a,{container:!0,spacing:1,children:r})};var F=function(e){var a=e.classes,t=e.allImages,n=e.onSearch,r=e.onChangePage,s=e.numberOfPage,o=Object(c.useState)(""),l=Object(i.a)(o,2),j=l[0],b=l[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(S.a,{id:"outlined-basic",label:"Type text and press Enter",variant:"outlined",className:a.search,value:j,onChange:function(e){b(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&n(j)}}),Object(d.jsx)(I.a,{count:10,variant:"outlined",color:"secondary",onChange:function(e,a){r(a)},className:a.pagination,value:s}),Object(d.jsx)(E,{classes:a,allImages:t,bookmarkArea:!1})]})};var A=function(e){var a=e.classes,t=Object(c.useState)([]),n=Object(i.a)(t,2),r=n[0],s=n[1],o=[];return Object(c.useEffect)((function(){for(var e=0;e<localStorage.length;e++){var a=localStorage.key(e);o.push({url:localStorage.getItem(a),id:a,title:" "}),s(o)}}),[]),Object(d.jsx)(E,{classes:a,allImages:r,bookmarkArea:!0,hideImage:function(e){o=r.filter((function(a){return!(a.id===e)})),s(o)}})};var T=function(e){var a=e.classes,t=e.allImages,c=e.onSearch,n=e.onChangePage,r=e.bookmark,s=e.numberOfPage;return r?Object(d.jsx)(A,{classes:a}):Object(d.jsx)(F,{classes:a,allImages:t,onSearch:c,onChangePage:n,numberOfPage:s})};var _=function(e){var a=e.classes,t=e.onSearch,c=e.allImages,n=e.onChangePage,r=e.isBookmark,s=e.isSearch,i=e.numberOfPage;return Object(d.jsxs)(b.a,{fixed:!0,children:[Object(d.jsx)("div",{className:a.appBarSpacer}),Object(d.jsxs)(h.a,{container:!0,className:a.mainContainer,spacing:2,children:[Object(d.jsx)(h.a,{item:!0,xs:1,children:Object(d.jsx)(f.a,{className:a.leftBar,children:Object(d.jsx)(v,{isSearch:s,isBookmark:r})})}),Object(d.jsx)(h.a,{item:!0,xs:11,children:Object(d.jsx)(T,{bookmark:r,classes:a,allImages:c,onSearch:t,onChangePage:n,numberOfPage:i})})]})]})},J=t(64),L=t.n(J),U=Object(o.a)((function(e){return{headerContainer:{justifyContent:"space-between",alignItems:"center",padding:e.spacing(1)},mainContainer:{padding:e.spacing(2)},search:{width:"100%",marginBottom:e.spacing(2)},appBarSpacer:e.mixins.toolbar,leftBar:{height:"100vh"},media:{height:0,paddingTop:"56.25%"},card:{maxWidth:345},pagination:{marginBottom:e.spacing(2)}}}));var W=function(){var e=U(),a=Object(c.useState)(" "),t=Object(i.a)(a,2),n=t[0],r=t[1],s=Object(c.useState)([]),o=Object(i.a)(s,2),l=o[0],j=o[1],b=Object(c.useState)(1),h=Object(i.a)(b,2),g=h[0],u=h[1],m=Object(c.useState)(!1),f=Object(i.a)(m,2),x=f[0],p=f[1];return Object(c.useEffect)((function(){var e="https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=a7a205c47862512bd5061a861c89dbeb&text=\n    ".concat(n,"&per_page=12&page=\n    ").concat(g,"&format=json&nojsoncallback=1");L.a.get(e).then((function(e){!function(e){"ok"===e.stat?j(e.photos.photo.map((function(e){return{url:"https://live.staticflickr.com/".concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg"),id:e.id,title:"".concat(e.title)}}))):j([])}(e.data)}))}),[n,g]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(O,{classes:e}),Object(d.jsx)(_,{classes:e,onSearch:function(e){r(e),u(1)},allImages:l,onChangePage:function(e){u(e)},isBookmark:x,isSearch:function(e){p(!e)},numberOfPage:g})]})},z=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,160)).then((function(a){var t=a.getCLS,c=a.getFID,n=a.getFCP,r=a.getLCP,s=a.getTTFB;t(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(W,{})}),document.getElementById("root")),z()}},[[105,1,2]]]);
//# sourceMappingURL=main.0e1d284a.chunk.js.map